@media (prefers-color-scheme: dark) {
    :root {
        /* User Requested: Dark Charcoal + Serene Light Blue */
        --background: #040912;
        /* Even darker charcoal for background */
        --surface: #171f2aa8;
        /* Dark slate/charcoal for cards */
        --panel-bg: #192028;

        /* Text - Serene Light Blue / Gray hierarchy */
        --text-primary: #ffffffd0;
        /* Brightest */
        --text-secondary: #ffffff9e;
        /* Muted gray-blue */
        --text-light: #484f58;

        /* Accents - Serene Light Blue */
        --primary: #244366;
        /* Vibrant serene blue */
        --primary-hover: #4aaaff;
        --accent-primary: #58a6ff;

        /* Borders - Adjusted for Serene Theme */
        --border-default: #30363d;
        --border-dark: #21262d;
        --border-light: #484f58;
        --shadow-small: 0 1px 2px 0 rgba(0, 0, 0, 0.5);

        /* Status */
        --status-success: #3fb950;
        --status-success-bg: rgba(63, 185, 80, 0.1);
        --status-error: #f85149;
        --status-active: #58a6ff;

        /* Component Specific */
        --upload-modal-bg: #161b22;
        --upload-hover-bg: #1f242c;
        --upload-box: #0d1117;
        --upload-box-border: #30363d;

        /* Progress Bar */
        --progress-bg: #21262d;
        --progress-fill: #244366;

        /* Action Item Colors (Dark Mode Overrides - Softer/Desaturated) */
        --action-decision: #3b3a2a;
        /* Darker Yellowish */
        --action-coord: #223a2f;
        /* Darker Greenish */
        --action-exec: #3a2e23;
        /* Darker Orangeish */
        --action-review: #233140;
        /* Darker Blueish */
        --action-portal: #2e263d;
        /* Darker Purpleish */
        --action-report: #3d2634;
        /* Darker Pinkish */
        --action-req: #3d2626;
        /* Darker Reddish */
        --action-topic: #262c3d;
        /* Darker Indigo */
        --action-question: #3b3b2a;
        --action-reaction: #3d2b2b;
        --action-default: #1f242c;
        --action-panel-bg: #0d141c;
        /* Dark Mode Charcoal */

        /* UI Layout & Extras - CUSTOMIZE THESE */
        --header-bg: #161d28;
        --header-text: #f0f6fc;
        --scrollbar-track: #0b0d0f94;
        --scrollbar-thumb: #30363d;
        --btn-success-bg: #23863765;
        --btn-success-text: #8b949e;
        --btn-error-bg: #8b1c1c;
        --btn-error-hover: #8b1c1c;
        --brand-accent: #26466c;

        /* Semantic UI Elements */
        --panel-border: var(--border-default);
        --card-bg: var(--panel-bg);
        --badge-text: #f0f6fc;
        --jump-btn-color: var(--accent-primary);
        --chat-bubble-ai: #161b22;

        /* Modal & Dialogs */
        --modal-overlay: rgba(0, 0, 0, 0.7);
        --modal-bg: #1e1e2e;
        --modal-header-bg: #16161e;
        --modal-footer-bg: #16161e;
        --modal-border: #333333;
        --modal-text-primary: #f0f6fc;
        --modal-text-secondary: #8b949e;
        --modal-item-hover: #252535;
        --modal-item-selected: #2a3a5a;

        /* Brand Colors */
        --ms-blue: #0078D4;
        --ms-purple: #6C63FF;
        --ms-teal: #038387;
        --folder-yellow: #FFC107;
        --video-red: #E53935;

        /* --- Granular Segmented Variables (Dark) --- */

        /* Header (Topper) */
        --header-logo-text: #f0f6fca8;
        --header-brand-text: #26466c;
        --header-btn-personality-bg: #244366;
        --header-btn-personality-text: #ffffffac;
        --header-btn-upload-bg: #244366;
        --header-btn-upload-text: #ffffffa0;
        --header-btn-history-bg: #244366;
        --header-btn-history-text: #ffffff;
        --header-btn-auth-bg: #161b22;
        --header-btn-auth-text: #ffffff;
        --header-dropdown-bg: #1e2e3e;
        --header-dropdown-border: #30363d;
        --header-dropdown-item-hover: #1f242c;

        /* Video Player */
        --video-container-bg: #192028;
        --video-loading-overlay: rgba(0, 0, 0, 0.7);
        --video-badge-local-bg: #244366;
        --video-error-text: #f85149;

        /* Transcript Panel */
        --transcript-panel-bg: #1f242c;
        --transcript-timestamp-text: #58a6ff;
        --transcript-content-text: #a9a9a972;
        --transcript-segment-hover: #21262d;
        --transcript-segment-highlight-bg: #1e2e3e;
        --transcript-segment-highlight-border: #3b82f6;
        --transcript-active-highlight: #2a3a5a;

        /* Chat & Intelligence */
        --chat-panel-bg: #161b22;
        --chat-header-bg: #1c2128;
        --chat-recap-bg: #161b22;
        --chat-messages-bg: #0d1117;
        --chat-recap-title: #f0f6fc;
        --chat-recap-summary: #8b949e;
        --chat-bubble-user-bg: #244366;
        --chat-bubble-ai-bg: #1e2e3e;
        --chat-input-bg: #0d1117;
        --chat-input-border: #30363d;
        --chat-input-area-bg: #161b22;
        --chat-input-btn-bg: #244366;
        /* Chat Highlights (Granular) */
        --highlight-card-bg: #1e2938a8;
        --highlight-card-border: #30363d;
        --highlight-number-bg: #244366;
        --highlight-number-text: #f0f6fc;
        --highlight-title-text: #f0f6fcb1;
        --highlight-jump-link: #58a6ff90;
        --ai-typing-indicator: #8b949e;

        /* Action Items (Granular) */
        --action-panel-bg: #0d141c;
        --action-card-bg: #1e2938a8;
        --action-card-border: #4d545d;
        --action-card-shadow: 0 4px 12px rgba(0, 0, 0, 0.5);
        --action-task-text: #ffffff89;
        --action-meta-text: #8b949e;
        --action-jump-btn-bg: #171f2aa8;
        --action-jump-btn-text: #457cbc;
        --action-export-btn-bg: #00ff3365;
        --action-note-bg: #14171f;
        --action-note-text: #ffffff9e;

        /* Action Item Badges (Categorized) */
        --action-badge-req-bg: #3d2626;
        --action-badge-reports-bg: #3d2634;
        --action-badge-default-bg: #1f242c;
        --action-badge-text: #e2e8f0c1;

        /* SharePoint Picker */
        --sharepoint-bg: #161b22;
        --sharepoint-header-bg: #1f242c;
        --sharepoint-item-hover: #21262d;
        --sharepoint-item-selected: #30363d;
        --sharepoint-breadcrumb-text: #58a6ff;
        --sharepoint-search-input-bg: #0d1117;
        --sharepoint-btn-search-bg: #2b9a41;
        --sharepoint-icon-folder: #58a6ff;
        --sharepoint-icon-file: #8b949e;
    }

    /* Professional Dark Scrollbar */
    ::-webkit-scrollbar {
        width: 12px;
        height: 12px;
    }

    ::-webkit-scrollbar-track {
        background: var(--scrollbar-track);
    }

    ::-webkit-scrollbar-thumb {
        background: var(--scrollbar-thumb);
        border-radius: 6px;
        border: 3px solid var(--scrollbar-track);
    }

    ::-webkit-scrollbar-thumb:hover {
        background: #484f58;
    }

    .video-section {
        background: var(--panel-bg);
        border-color: var(--border-dark);
    }

    .action-items-panel .panel-card {
        background: var(--surface);
        border: 1px solid var(--border-dark);
    }

    .panel-card {
        border-color: var(--border-dark);
    }

    .tab:hover {
        background: var(--upload-hover-bg);
    }

    .assistant .message-content {
        border-color: var(--border-dark);
        background: var(--chat-bubble-ai);
    }

    .prose code {
        background: var(--panel-bg);
    }

    .chat-input-area {
        border-top-color: var(--border-dark);
        background: var(--surface);
    }

    .chat-input-area input {
        border-color: var(--border-dark);
        background: var(--upload-modal-bg);
    }

    .transcript-segment:hover {
        background: var(--upload-hover-bg);
    }
}